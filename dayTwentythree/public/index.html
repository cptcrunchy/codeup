<html>

<head>
    <title>Open Weather API</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel='stylesheet' href='css/style.css'>

</head>

<body>
    <main class="container">
        <div class="well forecast-frame">
            <h2 class="center-text">Weather Application</h2>

            <nav class="navbar navbar-inverse">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <h3 id="station" class="navbar-brand navbar-right"></h3>
                        <label class="navbar-header h4" for="Latitude">
                            <input type="text" class="form-control" name="" placeholder="Latitude" readonly>
                        </label>
                        <label class="navbar-header h4" for="Longitude"> 
                            <input type="text" class="form-control" name="" placeholder="Longitude" readonly>
                        </label>

                    </div>
                </div>
            </nav>

            <div class="row" id="forecast">
                <!--<div class="col-sm-3 wInfo">
                    <div class="title">High / Low</div>
                    <div class="cTemp1"></div>
                    <div class="tempIcon1"></div>
                    <div class="conditions" id="castId1"></div>
                    <div class="conditions"><span class="cond">Humidity: </span><span id="dayOneHumid"></span></div>
                    <div class="conditions"><span class="cond">Wind: </span><span id="dayOneWind"></span></div>
                    <div class="conditions"><span class="cond">Pressure: </span><span id="dayOneBar"></span></div>
                </div>-->

            </div>
        </div>

        <footer>
        </footer>
    </main>
    <script src='https://code.jquery.com/jquery-3.2.1.min.js'></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script>
        $(document).ready(function() {
            $.get("http://api.openweathermap.org/data/2.5/forecast/daily?id4726206&cnt=3", {
                APPID: "0e25dfeca63103d3a311c460a9e27548",
                lat: 29.423017,
                lon: -98.48527,
                units: "imperial"
            }).done(function(data) {

                var stationId = data.city.name;



                // Stattion Name
                $('#station').append(stationId);

                console.log(data);
                var forecast = data.list;

                //Wind Direction in Compass Format
                function getDirection(dir) {
                    var compass = ['N', 'NNE', 'NE', 'ENE', 'E', 'ESE', 'SE', 'SSE', 'S', 'SSW', 'SW', 'WSW', 'W', 'WNW', 'NW', 'NNW'];
                    var result = Math.floor((360 - dir) / 22.5);
                    return compass[result];
                }
                //Forecast Variables
                function foreCast(data) {

                    for (i = 0; i < data.length; i++) {
                        var html = '';
                        html += "<div class='col-sm-3 wInfo'>" + "<div class='title'>High / Low</div>";
                        html += "<div class='cTemp'>" + (Math.ceil(forecast[i].temp.max)) + '&deg;';
                        html += " / " + (Math.ceil(forecast[i].temp.min)) + '&deg;' + "</div>";
                        html += "<div class='tempIcon'>" + "<img src='http://openweathermap.org/img/w/" + forecast[i].weather[0].icon;
                        html += ".png' alt=''></div>" + "<div class='conditions' id='castId'>" + '<span class="cond">' + forecast[i].weather[0].main;
                        html += "</span>: " + "<span>" + forecast[i].weather[0].description + '</span>' + "</div>";
                        html += "<div class='conditions'>" + "<span class='cond'>Humidity: </span>" + "<span>" + forecast[i].humidity + "&#37;</span></div>";
                        html += "<div class='conditions'>" + "<span class='cond'>Wind: </span>" + "<span>" + (Math.floor(forecast[i].speed));
                        html += " mph / " + getDirection(forecast[i].deg) + "</span></div>" + "<div class='conditions'>";
                        html += "<span class='cond'>Pressure: </span>" + "<span>" + forecast[i].pressure + "</span></div>";

                        return html;
                    }
                }
                console.log(foreCast(forecast));
                $()
            });

        });
    </script>

</body>

</html>